"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[19],{905:(e,t,i)=>{i.d(t,{c:()=>c,v:()=>o});var n=i(931),s=i(533);function o(e){return(0,s.c)("显示人物对话",{text:e}),new Promise((async function(t){n.AF.innerHTML='\n<div class="krz-dialog-model">\n    <div class="krz-dialog-words-group">\n        <div class="krz-dialog-text"></div>\n    </div>\n    <div class="krz-dialog-next-icon" style="display: none;"></div>\n</div>',n.AF.style.display="flex";let i=!1;/<red>(.*?)<\/red>/.test(e)&&(i=!0,e=e.replace(/<red>(.*?)<\/red>/g,"$1")),e=e.split("");let s=document.querySelector(".krz-dialog-text");i&&(s.style.color="red");for(let t of e)await c(s,t,{waitTime:30,isAnimate:!1});setTimeout((function(){document.querySelector(".krz-dialog-next-icon").style.display="block"}),100),document.querySelector(".krz-dialog-model").addEventListener("click",(function(){setTimeout((function(){document.querySelector(".krz-dialog-model").remove(),n.AF.style.display="none",t(void 0)}),100)}))}))}function c(e,t="",i={waitTime:20,isAnimate:!0}){let{waitTime:n,isAnimate:s}=i;return new Promise((function(i){let o=document.createElement("span");o.textContent=t,s&&(o.className="krz-animate-fadeIn"),e.appendChild(o),setTimeout(i,n)}))}window.showDialog=o},931:(e,t,i)=>{i.d(t,{AF:()=>a,SX:()=>s,T8:()=>d,ay:()=>o,jD:()=>c,lw:()=>n});const n=document.querySelector(".krz-app"),s=document.querySelector(".krz-object-highlight-container"),o=document.querySelector(".krz-loading-container"),c=document.querySelector(".krz-item-box"),a=document.querySelector(".krz-dialog-box"),d=document.querySelector(".krz-screen-info")},291:(e,t,i)=>{i(905);var n=i(620),s=i(370);const o={bg:"https://s-sh-1943-mingyan-static.oss.dogecdn.com/kenese%2Ftest%2F%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20190702220935.jpg",jiangzhuang:"https://s-sh-1943-mingyan-static.oss.dogecdn.com/kenese%2Ftest%2F%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D.png",doorclose:"https://s-sh-1943-mingyan-static.oss.dogecdn.com/kenese%2Ftest%2F%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20190701201817.png",dooropen:"https://s-sh-1943-mingyan-static.oss.dogecdn.com/kenese%2Ftest%2F%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_2019070201817.png",zhentou:"https://s-sh-1943-mingyan-static.oss.dogecdn.com/kenese%2Ftest%2F%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%870190701201817.png",didian:"https://s-sh-1943-mingyan-static.oss.dogecdn.com/kenese%2Ftest%2F%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%8719070121817.png",guizi:"https://s-sh-1943-mingyan-static.oss.dogecdn.com/kenese%2Ftest%2F%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_17.png",guiziopen:"https://s-sh-1943-mingyan-static.oss.dogecdn.com/kenese%2Ftest%2F%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_201701201817.png",luosidao:"https://s-sh-1943-mingyan-static.oss.dogecdn.com/kenese%2Ftest%2F%E5%BE%AE%E4%BF%A1%E7%89%87_20190201817.png",bihua:"https://s-sh-1943-mingyan-static.oss.dogecdn.com/kenese/test/Us1.png",bihuaopen:"https://s-sh-1943-mingyan-static.oss.dogecdn.com/kenese%2Ftest%2F%E5%BE%AE_2019071201817.png",shijuan:"https://s-sh-1943-mingyan-static.oss.dogecdn.com/kenese%2Ftest%2F%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_2001817.png",shouji:"https://s-sh-1943-mingyan-static.oss.dogecdn.com/kenese%2Ftest%2F%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_01900121817.png",yaoshi:"https://s-sh-1943-mingyan-static.oss.dogecdn.com/kenese%2Ftest%2F8e36b3ba54f395bec03c33862621a553_%E5%89%AF%E6%9C%AC.png"};let c=s.s.place({img:o.bihuaopen,x:343,y:80,width:120,isShow:!1}),a=s.s.place({img:o.yaoshi,x:430,y:105,width:60,name:"开门的钥匙",isShow:!0,isItem:!0}),d=s.s.place({img:o.bihua,x:406,y:90,width:100,name:"壁画",description:"一张壁画，似乎右边用螺丝锁上了",isShow:!0}),l=s.s.place({img:o.doorclose,x:150,y:145,width:150,label:"doorclose",name:"门",description:"房间的门，似乎关得很严",isShow:!0}),h=s.s.place({img:o.dooropen,x:145,y:130,height:300,isShow:!1}),m=(s.s.place({img:o.zhentou,x:86,y:496,width:80,name:"睡觉的枕头",description:"床上的枕头，很软很舒服！",isShow:!0}),s.s.place({img:o.guizi,x:666,y:307,width:160,isShow:!0})),g=s.s.place({img:o.guizi,x:666,y:448,width:160,isShow:!0}),r=s.s.place({img:o.guiziopen,x:625,y:303,width:206,height:139,isShow:!1}),u=s.s.place({img:o.guiziopen,x:625,y:444,width:206,height:139,isShow:!1}),p=s.s.place({img:o.luosidao,x:661,y:321,width:80,name:"螺丝刀",isShow:!1,isItem:!0}),E=s.s.place({img:o.shijuan,x:686,y:452,width:25,name:"零分试卷",isShow:!1,isItem:!0}),f=(s.s.place({img:o.shouji,x:437,y:503,width:25,name:"手机",isShow:!0,isItem:!0}),s.s.place({img:o.didian,x:384,y:467,width:200,isShow:!0}));m.onclick((function(){r.show(),p.show()})),r.onclick((function(){r.hide(),p.hide()})),g.onclick((function(){u.show(),E.show()})),u.onclick((function(){u.hide(),E.hide()}));let w=!1;f.onclick((async function(){w?(f.moveTo(null,467,.4),w=!1):(f.moveTo(null,380,.4),w=!0)})),window.placeObject=n.r,window.gameScreen=s.s,async function(){await new Promise((async function(e){s.s.showLoadingAnimation(),await s.s.preFetch(o),s.s.background(o.bg),s.s.hideLoadingAnimation(),await s.s.dialog("解恪布：今天又是美好的一天啊！！"),await s.s.dialog("解恪布：诶？门怎么是锁的？"),await s.s.dialog("<red>（任务：找到钥匙来开门）</red>"),await p.touch(d),d.hide(),c.show(),await a.touch(l),l.hide(),h.show(),await s.s.fullInfo("开门！！！！！！！"),e()}))}()},595:(e,t,i)=>{i.d(t,{KF:()=>o,QH:()=>c,ts:()=>a});var n=i(931),s=i(533);function o(e){return new Promise((function(t){n.SX.innerHTML=`\n<div class="krz-object-highlight">\n  <div class="krz-highlight-name">${e.name}</div>\n  <img class="krz-object-img-highlight" src="${e.img}">\n  <div class="krz-highlight-get-tip">GET!</div>\n</div>`,n.SX.style.display="block",n.SX.addEventListener("click",(function(){n.SX.style.display="none",t()})),(0,s.c)("展示物品高亮",{name:e.name||"",uid:e.uid})}))}function c(e){return new Promise((function(t){n.SX.innerHTML=`\n<div class="krz-object-highlight">\n  <div class="krz-highlight-name">${e.name}</div>\n  <img class="krz-object-img-highlight" src="${e.img}">\n  <div class="krz-item-highlight-tips">${e.description}</div>\n</div>`,n.SX.style.display="block",n.SX.addEventListener("click",(function(){n.SX.style.display="none",t()})),(0,s.c)("展示物品高亮",{name:e.name||"",uid:e.uid})}))}function a(){n.SX.style.display="none",n.SX.innerHTML=""}},610:(e,t,i)=>{i.d(t,{L0:()=>h,l9:()=>l});var n=i(931),s=i(700),o=i.n(s),c=i(370),a=i(533);let d={};function l(e,t,i){d[e.uid]={obj:t,func:i},(0,a.c)("添加物品到监听碰撞列表",{name:e.name,uid:e.uid})}function h(e){let t=document.createElement("div");t.className="krz-item",t.setAttribute("data-id",e.uid);let i=new Image;i.src=e.img,i.className="krz-item-img",t.appendChild(i),n.jD.appendChild(t),function(e){let t=!1,i=0,s=0,l=0,h=0;function m(n){n.preventDefault(),i=n.clientX||n.changedTouches[0].pageX,s=n.clientY||n.changedTouches[0].pageY,l=e.offsetLeft,h=e.offsetTop,t=!0,(0,a.c)("开始拖动物品",{name:"",uid:e.getAttribute("data-id")})}function g(o){if(o.preventDefault(),!t)return;e.classList.add("krz-item-drag");let m=o.clientX||o.changedTouches[0].pageX,g=(o.clientY||o.changedTouches[0].pageY)-(s-h),r=(m-(i-l))/c.s.scale,u=g/c.s.scale;e.style.left=r+"px",e.style.top=u+"px";for(let t in d){let i=d[t].obj,s=e,o=d[t].func;if(s.getAttribute("data-id")!==t)continue;let c=i.element,l=s,h=n.jD.offsetLeft+l.offsetLeft,m=c.offsetLeft,r=c.offsetLeft+c.offsetWidth,u=g,p=c.offsetTop,E=c.offsetTop+c.clientHeight,f=h+l.clientWidth>m,w=h<r,y=u+l.clientHeight>p,k=u+l.clientHeight<E;f&&w&&y&&k&&((0,a.c)("触碰到匹配的物品",{name:i.name||"",uid:i.uid}),"function"==typeof o&&o())}}function r(i){i.preventDefault(),t&&(e.classList.remove("krz-item-drag"),e.removeAttribute("style"),t=!1,(0,a.c)("停止拖动物品",{name:"",uid:e.getAttribute("data-id")}))}e.addEventListener("mousedown",m),e.addEventListener("touchstart",m),n.lw.addEventListener("mousemove",o()(g,10)),n.lw.addEventListener("touchmove",o()(g,10)),n.lw.addEventListener("mouseup",r),n.lw.addEventListener("touchend",r)}(t),e.remove(),(0,a.c)("添加物品到物品栏",{name:e.name,uid:e.uid})}}}]);