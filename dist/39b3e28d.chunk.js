"use strict";(self.webpackChunk_icerss_kenese=self.webpackChunk_icerss_kenese||[]).push([[970],{6761:function(t,e,n){n.d(e,{Xb:function(){return f},Gd:function(){return l},cu:function(){return _}});var i=n(4603),r=n(2208),s=n(2227),o=n(6703),a=n(667),c=n(2663),p="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,u=n(5474),h=n(674),d=function(){function t(t){this.errors=0,this.sid=(0,r.DM)(),this.duration=0,this.status="ok",this.init=!0,this.ignoreDuration=!1;var e=(0,s.ph)();this.timestamp=e,this.started=e,t&&this.update(t)}return t.prototype.update=function(t){if(void 0===t&&(t={}),t.user&&(!this.ipAddress&&t.user.ip_address&&(this.ipAddress=t.user.ip_address),this.did||t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||(0,s.ph)(),t.ignoreDuration&&(this.ignoreDuration=t.ignoreDuration),t.sid&&(this.sid=32===t.sid.length?t.sid:(0,r.DM)()),void 0!==t.init&&(this.init=t.init),!this.did&&t.did&&(this.did=""+t.did),"number"==typeof t.started&&(this.started=t.started),this.ignoreDuration)this.duration=void 0;else if("number"==typeof t.duration)this.duration=t.duration;else{var e=this.timestamp-this.started;this.duration=e>=0?e:0}t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),!this.ipAddress&&t.ipAddress&&(this.ipAddress=t.ipAddress),!this.userAgent&&t.userAgent&&(this.userAgent=t.userAgent),"number"==typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},t.prototype.close=function(t){t?this.update({status:t}):"ok"===this.status?this.update({status:"exited"}):this.update()},t.prototype.toJSON=function(){return(0,h.Jr)({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:{release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent}})},t}(),f=function(){function t(t,e,n){void 0===e&&(e=new u.s),void 0===n&&(n=4),this._version=n,this._stack=[{}],this.getStackTop().scope=e,t&&this.bindClient(t)}return t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=u.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},t.prototype.popScope=function(){return!(this.getStack().length<=1||!this.getStack().pop())},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=e&&e.event_id?e.event_id:(0,r.DM)(),s=e;if(!e){var o=void 0;try{throw new Error("Sentry syntheticException")}catch(t){o=t}s={originalException:t,syntheticException:o}}return this._invokeClient("captureException",t,(0,i.pi)((0,i.pi)({},s),{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var s=this._lastEventId=n&&n.event_id?n.event_id:(0,r.DM)(),o=n;if(!n){var a=void 0;try{throw new Error(t)}catch(t){a=t}o={originalException:t,syntheticException:a}}return this._invokeClient("captureMessage",t,e,(0,i.pi)((0,i.pi)({},o),{event_id:s})),s},t.prototype.captureEvent=function(t,e){var n=e&&e.event_id?e.event_id:(0,r.DM)();return"transaction"!==t.type&&(this._lastEventId=n),this._invokeClient("captureEvent",t,(0,i.pi)((0,i.pi)({},e),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop(),r=n.scope,a=n.client;if(r&&a){var c=a.getOptions&&a.getOptions()||{},p=c.beforeBreadcrumb,u=void 0===p?null:p,h=c.maxBreadcrumbs,d=void 0===h?100:h;if(!(d<=0)){var f=(0,s.yW)(),_=(0,i.pi)({timestamp:f},t),g=u?(0,o.Cf)((function(){return u(_,e)})):_;null!==g&&r.addBreadcrumb(g,d)}}},t.prototype.setUser=function(t){var e=this.getScope();e&&e.setUser(t)},t.prototype.setTags=function(t){var e=this.getScope();e&&e.setTags(t)},t.prototype.setExtras=function(t){var e=this.getScope();e&&e.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getScope();n&&n.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getScope();n&&n.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getScope();n&&n.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop(),n=e.scope,i=e.client;n&&i&&t(n)},t.prototype.run=function(t){var e=g(this);try{t(this)}finally{g(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return p&&o.kg.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t,e){return this._callExtensionMethod("startTransaction",t,e)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(t){if(void 0===t&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var t=this.getStackTop(),e=t&&t.scope,n=e&&e.getSession();n&&n.close(),this._sendSessionUpdate(),e&&e.setSession()},t.prototype.startSession=function(t){var e=this.getStackTop(),n=e.scope,r=e.client,s=r&&r.getOptions()||{},o=s.release,c=s.environment,p=((0,a.R)().navigator||{}).userAgent,u=new d((0,i.pi)((0,i.pi)((0,i.pi)({release:o,environment:c},n&&{user:n.getUser()}),p&&{userAgent:p}),t));if(n){var h=n.getSession&&n.getSession();h&&"ok"===h.status&&h.update({status:"exited"}),this.endSession(),n.setSession(u)}return u},t.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),e=t.scope,n=t.client;if(e){var i=e.getSession&&e.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},t.prototype._invokeClient=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var s=this.getStackTop(),o=s.scope,a=s.client;a&&a[t]&&(e=a)[t].apply(e,(0,i.fl)(n,[o]))},t.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=_(),r=i.__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[t])return r.extensions[t].apply(this,e);p&&o.kg.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function _(){var t=(0,a.R)();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function g(t){var e=_(),n=v(e);return y(e,t),n}function l(){var t=_();return m(t)&&!v(t).isOlderThan(4)||y(t,new f),(0,c.KV)()?function(t){try{var e=_().__SENTRY__,n=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!n)return v(t);if(!m(n)||v(n).isOlderThan(4)){var i=v(t).getStackTop();y(n,new f(i.client,u.s.clone(i.scope)))}return v(n)}catch(e){return v(t)}}(t):v(t)}function m(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function v(t){return(0,a.Y)("hub",(function(){return new f}),t)}function y(t,e){return!!t&&((t.__SENTRY__=t.__SENTRY__||{}).hub=e,!0)}},5474:function(t,e,n){n.d(e,{c:function(){return u},s:function(){return c}});var i=n(4603),r=n(9117),s=n(2227),o=n(2508),a=n(667),c=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=(0,i.fl)(e._breadcrumbs),n._tags=(0,i.pi)({},e._tags),n._extra=(0,i.pi)({},e._extra),n._contexts=(0,i.pi)({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=(0,i.fl)(e._eventProcessors),n._requestSession=e._requestSession),n},t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.getRequestSession=function(){return this._requestSession},t.prototype.setRequestSession=function(t){return this._requestSession=t,this},t.prototype.setTags=function(t){return this._tags=(0,i.pi)((0,i.pi)({},this._tags),t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=(0,i.pi)((0,i.pi)({},this._tags),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=(0,i.pi)((0,i.pi)({},this._extra),t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=(0,i.pi)((0,i.pi)({},this._extra),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var n;return null===e?delete this._contexts[t]:this._contexts=(0,i.pi)((0,i.pi)({},this._contexts),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var t=this.getSpan();return t&&t.transaction},t.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if("function"==typeof e){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=(0,i.pi)((0,i.pi)({},this._tags),e._tags),this._extra=(0,i.pi)((0,i.pi)({},this._extra),e._extra),this._contexts=(0,i.pi)((0,i.pi)({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):(0,r.PO)(e)&&(this._tags=(0,i.pi)((0,i.pi)({},this._tags),e.tags),this._extra=(0,i.pi)((0,i.pi)({},this._extra),e.extra),this._contexts=(0,i.pi)((0,i.pi)({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n="number"==typeof e?Math.min(e,100):100;if(n<=0)return this;var r=(0,i.pi)({timestamp:(0,s.yW)()},t);return this._breadcrumbs=(0,i.fl)(this._breadcrumbs,[r]).slice(-n),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(t,e){if(this._extra&&Object.keys(this._extra).length&&(t.extra=(0,i.pi)((0,i.pi)({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=(0,i.pi)((0,i.pi)({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=(0,i.pi)((0,i.pi)({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=(0,i.pi)((0,i.pi)({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=(0,i.pi)({trace:this._span.getTraceContext()},t.contexts);var n=this._span.transaction&&this._span.transaction.name;n&&(t.tags=(0,i.pi)({transaction:n},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=(0,i.fl)(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors((0,i.fl)(p(),this._eventProcessors),t,e)},t.prototype.setSDKProcessingMetadata=function(t){return this._sdkProcessingMetadata=(0,i.pi)((0,i.pi)({},this._sdkProcessingMetadata),t),this},t.prototype._notifyEventProcessors=function(t,e,n,s){var a=this;return void 0===s&&(s=0),new o.cW((function(o,c){var p=t[s];if(null===e||"function"!=typeof p)o(e);else{var u=p((0,i.pi)({},e),n);(0,r.J8)(u)?u.then((function(e){return a._notifyEventProcessors(t,e,n,s+1).then(o)})).then(null,c):a._notifyEventProcessors(t,u,n,s+1).then(o).then(null,c)}}))},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(e){e(t)})),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t}();function p(){return(0,a.Y)("globalEventProcessors",(function(){return[]}))}function u(t){p().push(t)}},6392:function(t,e,n){n.d(e,{$e:function(){return a},Tb:function(){return o}});var i=n(4603),r=n(6761);function s(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var s=(0,r.Gd)();if(s&&s[t])return s[t].apply(s,(0,i.fl)(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function o(t,e){return s("captureException",t,{captureContext:e,originalException:t,syntheticException:new Error("Sentry syntheticException")})}function a(t){s("withScope",t)}},9947:function(t,e,n){n.d(e,{gE:function(){return D}});var i=n(4603),r=n(6703),s=n(667),o=n(8387),a=n(1729),c=n(4730),p=n(7981),u=n(4041),h=n(4597),d=(0,s.R)(),f=n(2663),_=n(2227),g=n(7535),l=n(9526),m=n(4007),v=n(5759),y=n(8140),S=(0,s.R)(),T=function(){function t(t){void 0===t&&(t=!1),this._reportAllChanges=t,this._measurements={},this._performanceCursor=0,!(0,f.KV)()&&S&&S.performance&&S.document&&(S.performance.mark&&S.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return t.prototype.addPerformanceEntries=function(t){var e=this;if(S&&S.performance&&S.performance.getEntries&&_.Z1){o.h&&r.kg.log("[Tracing] Adding & adjusting spans using Performance API");var n,i,s=(0,p.XL)(_.Z1);if(S.performance.getEntries().slice(this._performanceCursor).forEach((function(a){var c=(0,p.XL)(a.startTime),u=(0,p.XL)(a.duration);if(!("navigation"===t.op&&s+c<t.startTimestamp))switch(a.entryType){case"navigation":!function(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((function(i){x(t,e,i,n)})),x(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),x(t,e,"fetch",n,"cache","domainLookupStart"),x(t,e,"domainLookup",n,"DNS"),function(t,e,n){k(t,{op:"browser",description:"request",startTimestamp:n+(0,p.XL)(e.requestStart),endTimestamp:n+(0,p.XL)(e.responseEnd)}),k(t,{op:"browser",description:"response",startTimestamp:n+(0,p.XL)(e.responseStart),endTimestamp:n+(0,p.XL)(e.responseEnd)})}(t,e,n)}(t,a,s),n=s+(0,p.XL)(a.responseStart),i=s+(0,p.XL)(a.requestStart);break;case"mark":case"paint":case"measure":var h=function(t,e,n,i,r){var s=r+n,o=s+i;return k(t,{description:e.name,endTimestamp:o,op:e.entryType,startTimestamp:s}),s}(t,a,c,u,s),d=(0,y.Y)(),f=a.startTime<d.firstHiddenTime;"first-paint"===a.name&&f&&(o.h&&r.kg.log("[Measurements] Adding FP"),e._measurements.fp={value:a.startTime},e._measurements["mark.fp"]={value:h}),"first-contentful-paint"===a.name&&f&&(o.h&&r.kg.log("[Measurements] Adding FCP"),e._measurements.fcp={value:a.startTime},e._measurements["mark.fcp"]={value:h});break;case"resource":var _=a.name.replace(S.location.origin,"");!function(t,e,n,i,r,s){if("xmlhttprequest"!==e.initiatorType&&"fetch"!==e.initiatorType){var o={};"transferSize"in e&&(o["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(o["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(o["Decoded Body Size"]=e.decodedBodySize);var a=s+i;k(t,{description:n,endTimestamp:a+r,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:a,data:o})}}(t,a,_,c,u,s)}})),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),"pageload"===t.op){var a=(0,p.XL)(_.Z1);"number"==typeof n&&(o.h&&r.kg.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:1e3*(n-t.startTimestamp)},"number"==typeof i&&i<=n&&(this._measurements["ttfb.requestTime"]={value:1e3*(n-i)})),["fcp","fp","lcp"].forEach((function(n){if(e._measurements[n]&&!(a>=t.startTimestamp)){var i=e._measurements[n].value,s=a+(0,p.XL)(i),c=Math.abs(1e3*(s-t.startTimestamp)),u=c-i;o.h&&r.kg.log("[Measurements] Normalized "+n+" from "+i+" to "+c+" ("+u+")"),e._measurements[n].value=c}})),this._measurements["mark.fid"]&&this._measurements.fid&&k(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+(0,p.XL)(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),"fcp"in this._measurements||delete this._measurements.cls,t.setMeasurements(this._measurements),function(t,e,n){e&&(o.h&&r.kg.log("[Measurements] Adding LCP Data"),e.element&&t.setTag("lcp.element",(0,g.R)(e.element)),e.id&&t.setTag("lcp.id",e.id),e.url&&t.setTag("lcp.url",e.url.trim().slice(0,200)),t.setTag("lcp.size",e.size)),n&&n.sources&&(o.h&&r.kg.log("[Measurements] Adding CLS Data"),n.sources.forEach((function(e,n){return t.setTag("cls.source."+(n+1),(0,g.R)(e.node))})))}(t,this._lcpEntry,this._clsEntry),t.setTag("sentry_reportAllChanges",this._reportAllChanges)}}},t.prototype._trackNavigator=function(t){var e=S.navigator;if(e){var n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),b(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),b(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),b(e.deviceMemory)&&t.setTag("deviceMemory",String(e.deviceMemory)),b(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}},t.prototype._trackCLS=function(){var t=this;(0,l.k)((function(e){var n=e.entries.pop();n&&(o.h&&r.kg.log("[Measurements] Adding CLS"),t._measurements.cls={value:e.value},t._clsEntry=n)}))},t.prototype._trackLCP=function(){var t=this;(0,v.T)((function(e){var n=e.entries.pop();if(n){var i=(0,p.XL)(_.Z1),s=(0,p.XL)(n.startTime);o.h&&r.kg.log("[Measurements] Adding LCP"),t._measurements.lcp={value:e.value},t._measurements["mark.lcp"]={value:i+s},t._lcpEntry=n}}),this._reportAllChanges)},t.prototype._trackFID=function(){var t=this;(0,m.T)((function(e){var n=e.entries.pop();if(n){var i=(0,p.XL)(_.Z1),s=(0,p.XL)(n.startTime);o.h&&r.kg.log("[Measurements] Adding FID"),t._measurements.fid={value:e.value},t._measurements["mark.fid"]={value:i+s}}}))},t}();function x(t,e,n,i,r,s){var o=s?e[s]:e[n+"End"],a=e[n+"Start"];a&&o&&k(t,{op:"browser",description:null!=r?r:n,startTimestamp:i+(0,p.XL)(a),endTimestamp:i+(0,p.XL)(o)})}function k(t,e){var n=e.startTimestamp,r=(0,i._T)(e,["startTimestamp"]);return n&&t.startTimestamp>n&&(t.startTimestamp=n),t.startChild((0,i.pi)({startTimestamp:n},r))}function b(t){return"number"==typeof t&&isFinite(t)}var E=n(8764),L=n(7976),C=n(9117),w={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};var A=(0,s.R)(),O=(0,i.pi)({idleTimeout:c.nT,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=!0),A&&A.location){var i,s=A.location.href;e&&(i=t({name:A.location.pathname,op:"pageload"})),n&&(0,L.o)("history",(function(e){var n=e.to,a=e.from;void 0===a&&s&&-1!==s.indexOf(n)?s=void 0:a!==n&&(s=void 0,i&&(o.h&&r.kg.log("[Tracing] Finishing current transaction with op: "+i.op),i.finish()),i=t({name:A.location.pathname,op:"navigation"}))}))}else o.h&&r.kg.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},w),D=function(){function t(e){this.name=t.id,this._configuredIdleTimeout=void 0;var n=w.tracingOrigins;e&&(this._configuredIdleTimeout=e.idleTimeout,e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&0!==e.tracingOrigins.length?n=e.tracingOrigins:o.h&&(this._emitOptionsWarning=!0)),this.options=(0,i.pi)((0,i.pi)((0,i.pi)({},O),e),{tracingOrigins:n});var r=this.options._metricOptions;this._metrics=new T(r&&r._reportAllChanges)}return t.prototype.setupOnce=function(t,e){var n=this;this._getCurrentHub=e,this._emitOptionsWarning&&(o.h&&r.kg.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),o.h&&r.kg.warn("[Tracing] We added a reasonable default for you: "+w.tracingOrigins));var s=this.options,a=s.routingInstrumentation,c=s.startTransactionOnLocationChange,u=s.startTransactionOnPageLoad,f=s.markBackgroundTransactions,_=s.traceFetch,g=s.traceXHR,l=s.tracingOrigins,m=s.shouldCreateSpanForRequest;a((function(t){return n._createRouteTransaction(t)}),u,c),f&&(d&&d.document?d.document.addEventListener("visibilitychange",(function(){var t=(0,p.x1)();if(d.document.hidden&&t){o.h&&r.kg.log("[Tracing] Transaction: cancelled -> since tab moved to the background, op: "+t.op),t.status||t.setStatus("cancelled"),t.setTag("visibilitychange","document.hidden"),t.setTag(h.d,h.x[2]),t.finish()}})):o.h&&r.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")),function(t){var e=(0,i.pi)((0,i.pi)({},w),t),n=e.traceFetch,r=e.traceXHR,s=e.tracingOrigins,o=e.shouldCreateSpanForRequest,a={},c=function(t){if(a[t])return a[t];var e=s;return a[t]=e.some((function(e){return(0,E.zC)(t,e)}))&&!(0,E.zC)(t,"sentry_key"),a[t]},u=c;"function"==typeof o&&(u=function(t){return c(t)&&o(t)});var h={};n&&(0,L.o)("fetch",(function(t){!function(t,e,n){if((0,p.zu)()&&t.fetchData&&e(t.fetchData.url))if(t.endTimestamp){var r=t.fetchData.__span;if(!r)return;(o=n[r])&&(t.response?o.setHttpStatus(t.response.status):t.error&&o.setStatus("internal_error"),o.finish(),delete n[r])}else{var s=(0,p.x1)();if(s){var o=s.startChild({data:(0,i.pi)((0,i.pi)({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http.client"});t.fetchData.__span=o.spanId,n[o.spanId]=o;var a=t.args[0]=t.args[0],c=t.args[1]=t.args[1]||{},u=c.headers;(0,C.V9)(a,Request)&&(u=a.headers),u?"function"==typeof u.append?u.append("sentry-trace",o.toTraceparent()):u=Array.isArray(u)?(0,i.fl)(u,[["sentry-trace",o.toTraceparent()]]):(0,i.pi)((0,i.pi)({},u),{"sentry-trace":o.toTraceparent()}):u={"sentry-trace":o.toTraceparent()},c.headers=u}}}(t,u,h)})),r&&(0,L.o)("xhr",(function(t){!function(t,e,n){if(!(!(0,p.zu)()||t.xhr&&t.xhr.__sentry_own_request__)&&t.xhr&&t.xhr.__sentry_xhr__&&e(t.xhr.__sentry_xhr__.url)){var r=t.xhr.__sentry_xhr__;if(t.endTimestamp){var s=t.xhr.__sentry_xhr_span_id__;if(!s)return;(a=n[s])&&(a.setHttpStatus(r.status_code),a.finish(),delete n[s])}else{var o=(0,p.x1)();if(o){var a=o.startChild({data:(0,i.pi)((0,i.pi)({},r.data),{type:"xhr",method:r.method,url:r.url}),description:r.method+" "+r.url,op:"http.client"});if(t.xhr.__sentry_xhr_span_id__=a.spanId,n[t.xhr.__sentry_xhr_span_id__]=a,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",a.toTraceparent())}catch(t){}}}}}(t,u,h)}))}({traceFetch:_,traceXHR:g,tracingOrigins:l,shouldCreateSpanForRequest:m})},t.prototype._createRouteTransaction=function(t){var e=this;if(this._getCurrentHub){var n=this.options,c=n.beforeNavigate,h=n.idleTimeout,d=n.maxTransactionDuration,f="pageload"===t.op?function(){var t,e=("sentry-trace",(t=(0,s.R)().document.querySelector("meta[name=sentry-trace]"))?t.getAttribute("content"):null);if(e)return(0,u.q)(e)}():void 0,_=(0,i.pi)((0,i.pi)((0,i.pi)({},t),f),{trimEnd:!0}),g="function"==typeof c?c(_):_,l=void 0===g?(0,i.pi)((0,i.pi)({},_),{sampled:!1}):g;!1===l.sampled&&o.h&&r.kg.log("[Tracing] Will not send "+l.op+" transaction because of beforeNavigate."),o.h&&r.kg.log("[Tracing] Starting "+l.op+" transaction on scope");var m=this._getCurrentHub(),v=(0,s.R)().location,y=(0,a.lb)(m,l,h,!0,{location:v});return y.registerBeforeFinishCallback((function(t,n){e._metrics.addPerformanceEntries(t),function(t,e,n){var i=n-e.startTimestamp;n&&(i>t||i<0)&&(e.setStatus("deadline_exceeded"),e.setTag("maxTransactionDurationExceeded","true"))}((0,p.WB)(d),t,n)})),y.setTag("idleTimeout",this._configuredIdleTimeout),y}o.h&&r.kg.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.")},t.id="BrowserTracing",t}()}}]);