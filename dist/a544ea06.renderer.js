"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[720],{404:(n,t,i)=>{i.d(t,{r:()=>S});var e=i(906),r=i.n(e),s=i(814),o=i.n(s),a=i(486),h=i.n(a),l=i(918),d=i.n(l),c=i(102),m=i.n(c),u=i(653),g=i.n(u),p=i(499),f={};f.styleTagTransform=g(),f.setAttributes=d(),f.insert=h().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=m(),r()(p.Z,f),p.Z&&p.Z.locals&&p.Z.locals;var y=i(109),w=i(41),k=i(450),b=i(497);const v=(0,k.kP)("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",8);class z{constructor(n){this.uid=v();const t=document.createElement("div"),i=new Image;t.className="krz-object",t.style.display=n.isShow?"block":"none",t.setAttribute("data-id",this.uid),i.className="krz-object-img",i.src=n.img,n.width&&(i.width=n.width),n.height&&(i.height=n.height),t.style.left=n.x+"px",t.style.top=n.y+"px",t.appendChild(i),document.querySelector(".krz-object-container").appendChild(t),this.img=n.img,this.element=t,this.imageElement=i,this.isShow=n.isShow||!0,this.isAnimating=!1,this.name=n.name,this.description=n.description,this.isItem=n.isItem,this.isSelectAsItem=!1,this.isItem&&this.onclick(async function(){await(0,y.KF)(this),(0,w.L0)(this)}.bind(this)),!n.name&&!n.description||this.isItem||this.onclick(function(){(0,y.QH)(this)}.bind(this)),(0,b.c)("放置物品：",{name:this.name||"",uid:this.uid})}show(){return(0,b.c)("显示物品",{name:this.name||"",uid:this.uid}),this.isShow=!0,(this.element.style.display="block")&&this}hide(){return(0,b.c)("隐藏物品",{name:this.name||"",uid:this.uid}),this.isShow=!1,(this.element.style.display="none")&&this}remove(){return(0,b.c)("移除物品",{name:this.name||"",uid:this.uid}),this.isShow=!1,this.element.remove()&&this}setX(n){return(this.element.style.left=n+"px")&&this}setY(n){return(this.element.style.top=n+"px")&&this}setWidth(n){return(this.imageElement.width=n)&&this}setHeight(n){return(this.imageElement.height=n)&&this}setImage(n){return(this.imageElement.src=n)&&this}moveTo(n,t,i=2){return(0,b.c)("物品动画开始",{name:this.name||"",uid:this.uid}),this.isAnimating=!0,new Promise(function(e){this.element.style.transition=`ease-in-out ${i}s`,this.setX(n),this.setY(t),setTimeout(function(){this.element.style.transition="unset",this.isAnimating=!1,(0,b.c)("物品动画结束",{name:this.name||"",uid:this.uid}),e()}.bind(this),1e3*i)}.bind(this))}goTo(n,t){return this.setX(n),this.setY(t),this}onclick(n){return(0,b.c)("添加监听点击事件",{name:this.name||"",uid:this.uid}),this.element.addEventListener("click",(function(t){"function"==typeof n&&n(t)}))}clicked(){return new Promise(function(n){(0,b.c)("等待物品被点击",{name:this.name||"",uid:this.uid}),this.onclick(n)}.bind(this))}touch(n){return new Promise(async function(t){(0,b.c)("等待物品执行拖动触碰",{name:this.name||"",uid:this.uid}),(0,w.l9)(this,n,t)}.bind(this))}isShow(){return this.isShow}isAnimating(){return this.isAnimating}showInfoHighlight(){return(0,y.QH)(this)}hideInfoHighlight(){return(0,y.ts)(this)}}function S(n){return new z(n)}},720:(n,t,i)=>{i.d(t,{s:()=>z});var e=i(906),r=i.n(e),s=i(814),o=i.n(s),a=i(486),h=i.n(a),l=i(918),d=i.n(l),c=i(102),m=i.n(c),u=i(653),g=i.n(u),p=i(408),f={};f.styleTagTransform=g(),f.setAttributes=d(),f.insert=h().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=m(),r()(p.Z,f),p.Z&&p.Z.locals&&p.Z.locals;var y=i(610),w=i(404),k=i(571),b=i.n(k),v=i(497);const z=new class{constructor(){this.scale=1,this._handleCanvasSize(),window.addEventListener("resize",b()(this._handleCanvasSize,100)),(0,v.c)("初始化屏幕")}_handleCanvasSize(){const n=window.innerHeight,t=window.innerWidth;this.scale=Math.min(n/600,t/900),y.lw.style.height="600px",y.lw.style.width="900px",y.lw.style.transform=`scale(${this.scale})`,(0,v.c)("调整屏幕尺寸")}place(n={x:0,y:0,img:"",width:0,height:0,name:"",description:"",isShow:!0,isItem:!1}){return(0,w.r)(n)}background(n){this.backgroungImage=n,y.lw.style.backgroundImage=`url("${n}")`,(0,v.c)("设置背景图片")}showLoadingAnimation(){y.ay.innerHTML='\n<div class="krz-loading ">\n    <img class="krz-loading-img krz-animate-pulse"\n        src="https://s-sh-1943-mingyan-static.oss.dogecdn.com/image/public/logo-v2/256x256.png">\n    <div class="krz-loading-text">加载资源中……</div>\n</div>',y.ay.style.display="block",(0,v.c)("显示加载中页面")}hideLoadingAnimation(){y.ay.innerHTML="",y.ay.style.display="none",(0,v.c)("隐藏加载中页面")}preFetch(n){return(0,v.n)(n)}}},497:(n,t,i)=>{i.d(t,{c:()=>e,n:()=>r});const e=function(){let n=0;return function(){n++,console.log(`[${(new Date).getHours()}:${(new Date).getMinutes()}]#${n} ->`,...arguments)}}();function r(n){e("预加载资源");let t=[];for(let i in n)t.push(n[i]);return Promise.all(t.map((function(n){return new Promise((function(t){let i=new Image;i.src=n,i.addEventListener("load",t)}))})))}window.log=e},499:(n,t,i)=>{i.d(t,{Z:()=>a});var e=i(657),r=i.n(e),s=i(483),o=i.n(s)()(r());o.push([n.id,".krz-object-container {\r\n  position: absolute;\r\n  z-index: 3;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.krz-object {\r\n  position: absolute;\r\n  z-index: 15;\r\n  /* cursor: pointer; */\r\n}\r\n",""]);const a=o},823:(n,t,i)=>{i.d(t,{Z:()=>a});var e=i(657),r=i.n(e),s=i(483),o=i.n(s)()(r());o.push([n.id,"@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.krz-animate-fadeIn {\r\n  animation-name: fadeIn;\r\n  animation-duration: 0.7s;\r\n}\r\n\r\n@keyframes fadeOut {\r\n  from {\r\n    opacity: 1;\r\n  }\r\n\r\n  to {\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n.krz-animate-fadeOut {\r\n  animation-name: fadeOut;\r\n  animation-duration: 0.7s;\r\n}\r\n\r\n@keyframes pulse {\r\n  from {\r\n    transform: scale3d(1, 1, 1);\r\n  }\r\n\r\n  50% {\r\n    transform: scale3d(1.05, 1.05, 1.05);\r\n  }\r\n\r\n  to {\r\n    transform: scale3d(1, 1, 1);\r\n  }\r\n}\r\n\r\n.krz-animate-pulse {\r\n  animation: 2s ease-in-out 0s infinite pulse;\r\n}\r\n",""]);const a=o},408:(n,t,i)=>{i.d(t,{Z:()=>l});var e=i(657),r=i.n(e),s=i(483),o=i.n(s),a=i(823),h=o()(r());h.i(a.Z),h.push([n.id,'* {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\nbody {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 100vh;\r\n  background-color: #0d1a26;\r\n  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,\r\n    Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif,\r\n    "Apple Color Emoji", "Segoe UI Emoji", Segoe UI Symbol, "Noto Color Emoji";\r\n  overflow: hidden;\r\n  user-select: none;\r\n}\r\n\r\nimg {\r\n  pointer-events: none;\r\n}\r\n\r\n.krz-app {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  animation-duration: 1s;\r\n  animation-fill-mode: both;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n}\r\n\r\n.krz-loading-container {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 999999;\r\n  background-color: #ffffff;\r\n}\r\n\r\n.krz-loading {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 100%;\r\n  position: relative;\r\n}\r\n\r\n.krz-loading-img {\r\n  width: 100px;\r\n}\r\n\r\n.krz-loading-text {\r\n  position: absolute;\r\n  bottom: 100px;\r\n  font-weight: 700;\r\n  font-size: 1rem;\r\n}\r\n',""]);const l=h}}]);